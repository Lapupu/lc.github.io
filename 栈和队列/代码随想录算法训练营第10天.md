# 代码随想录算法训练营第10天

## 栈和队列基本操作

在 C++ 中，栈（**Stack**）是一种**后进先出（LIFO, Last In First Out）**的数据结构。C++ 提供了标准库 `std::stack`，它包含常用的栈操作函数。`std::stack` 定义在头文件 `<stack>` 中。

### **C++ 中 `std::stack` 的常用函数**

以下是 `std::stack` 的常用函数及其功能：

| **函数**           | **功能**                                                     | **时间复杂度** |
| ------------------ | ------------------------------------------------------------ | -------------- |
| `push(x)`          | 将元素 `x` 压入栈顶。                                        | O(1)           |
| `pop()`            | 移除栈顶元素（不返回栈顶元素）。                             | O(1)           |
| `top()`            | 返回栈顶元素的引用（但不移除）。                             | O(1)           |
| `empty()`          | 判断栈是否为空，返回布尔值 `true` 或 `false`。               | O(1)           |
| `size()`           | 返回栈中元素的个数。                                         | O(1)           |
| `emplace(args...)` | 直接在栈顶构造一个元素（避免多次拷贝，提高性能）。           | O(1)           |
| `swap(stack2)`     | 交换当前栈与另一个栈 `stack2` 的内容（非常高效，底层指针交换）。 | O(1)           |

### **进阶：`std::stack` 的实现与适配器**

1. **底层容器：**

   - `std::stack` 是一个 **容器适配器**，默认使用 `std::deque` 作为底层容器。
   - 你可以用其他容器替换，比如 `std::vector` 或 `std::list`。

2. **定义方式：**

   ```cpp
   std::stack<int, std::deque<int>> s1;  // 默认使用 deque
   std::stack<int, std::vector<int>> s2; // 使用 vector
   std::stack<int, std::list<int>> s3;   // 使用 list
   ```

3. **底层容器的选择：**

   - `std::deque` 是默认的底层容器，支持快速的插入和删除操作。
   - 如果栈操作非常频繁，建议保留默认实现。

### **C++ `std::queue` 的常用函数**

| **函数**           | **功能**                                                     | **时间复杂度** |
| ------------------ | ------------------------------------------------------------ | -------------- |
| `push(x)`          | 将元素 `x` 添加到队列末尾（入队）。                          | O(1)           |
| `pop()`            | 移除队列头部的元素（出队）。                                 | O(1)           |
| `front()`          | 返回队列头部元素的引用（查看队首元素，但不移除）。           | O(1)           |
| `back()`           | 返回队列尾部元素的引用（查看队尾元素）。                     | O(1)           |
| `empty()`          | 判断队列是否为空，返回布尔值 `true` 或 `false`。             | O(1)           |
| `size()`           | 返回队列中元素的个数。                                       | O(1)           |
| `emplace(args...)` | 直接在队列尾部构造一个元素（避免多次拷贝，提高性能）。       | O(1)           |
| `swap(queue2)`     | 交换当前队列与另一个队列 `queue2` 的内容（非常高效，底层指针交换）。 | O(1)           |

##  **232.用栈实现队列** 

思路：两个栈形成一个队列，要点是实现pop功能必须全部放到另一个容器中

`this->pop`调用当前类的函数，如果不声明则是调用全局的pop函数

## 225. 用队列实现栈

只是用一个队列的思路：把n-1个元素pop出去，再push回来，最后pop的就能模拟栈的pop元素

## 20. 有效的括号

三种场景为：

左方向的括号多余，代码检测：检测完成，但是栈不为空

括号类型不匹配 ，代码检测：pop出来的括号不一致

右方向括号多余， 代码检测：检测中栈中无元素

## 1047. 删除字符串中的所有相邻重复项

消消乐可以考虑用栈解决